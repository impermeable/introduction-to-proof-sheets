# 3.1 Functions<hint title="ğŸ“¦ Import libraries (click to open/close)">
```coq
Require Import Waterproof.Tactics.
Require Import Waterproof.Notations.Common.
Require Import Waterproof.Notations.Sets.
Require Import Waterproof.Notations.IndexedSets.
Require Import Waterproof.Notations.Functions.
Require Import Waterproof.Notations.RealsWithSubsets.
Require Import Waterproof.Chains.
Require Import Waterproof.Automation.
Require Import Waterproof.Libs.Functions.
Waterproof Enable Automation Intuition.
Waterproof Enable Automation Sets.

From Coq Require Import Sets.Ensembles.

Waterproof List Automation Databases.

Notation "[ ( % @ < x 'and'" := x (at level 0, only parsing).
Notation "[ ( % @ < x 'as'" := x (at level 0, only parsing).
Notation "[ ( % @ < x 'hold'" := x (at level 0, only parsing).
Notation "[ ( % @ < x 'it'" := x (at level 0, only parsing).
Notation "[ ( % @ < x 'holds'" := x (at level 0, only parsing).
Notation "[ ( % @ < x 'we'" := x (at level 0, only parsing).
Notation "[ ( % @ < x 'or'" := x (at level 0, only parsing).


Open Scope R_scope.
Open Scope subset_scope.
Open Scope function_scope.

(* Define subseteq notation *)
Notation "A âŠ† B" := (A âŠ‚ B) (at level 70) : subset_scope.
Waterproof Disable Filter Errors.

Section sec.
Context {ğ’° : Type}.
Context {X Y : Type}.
```
</hint>

## Example 3.1.39

This example shows the interaction between image and preimage.

```coq
Example example_3_1_39 (f : X â†’ Y) (U : subset X) (V : subset Y) :
    (f[U] âŠ† V) â†” (U âŠ† fâ»Â¹[V]).
Proof.
We show both directions.
+ We need to show that f [ U ] âŠ† V â‡¨ U âŠ† fâ»Â¹[V].
  Assume that f[U] âŠ† V as (i).
  It suffices to show âˆ€ x âˆˆ U, x âˆˆ fâ»Â¹[V].
  Take x âˆˆ U.
  It holds that f(x) âˆˆ f[U].
  By (i) it holds that âˆ€ x âˆˆ f[U], x âˆˆ V.
  It holds that f(x) âˆˆ V.
  We conclude that x âˆˆ fâ»Â¹[V].
+ We need to show that (U âŠ† fâ»Â¹[V]) â‡¨ f [U] âŠ† V.
  Assume that U âŠ† fâ»Â¹[V].
  It suffices to show âˆ€ y âˆˆ f[U], y âˆˆ V.
  Take y âˆˆ f[U].
  It holds that âˆƒ x âˆˆ U, y = f(x).
  Obtain such an x.
  It holds that âˆ€ x âˆˆ U, x âˆˆ fâ»Â¹[V].
  It holds that x âˆˆ fâ»Â¹[V].
  It holds that f(x) âˆˆ V.
  We conclude that y âˆˆ V.
Qed.
```

## Exercise 3.1.40


### Part (a): fâ»Â¹[âˆ…] = âˆ…

```coq
Lemma exercise_3_1_40a (f : X â†’ Y) :
  fâ»Â¹[âˆ…] = âˆ….
Proof.
```
<input-area>
```coq

```
</input-area>
```coq
Qed.
```

### Part (b): fâ»Â¹[Y] = X

```coq
Lemma exercise_3_1_40b (f : X â†’ Y) :
  fâ»Â¹[Y] = X.
Proof.
```
<input-area>
```coq

```
</input-area>
```coq
Qed.
```
